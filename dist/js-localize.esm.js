var U=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var f=(e,t,r)=>(U(e,t,"read from private field"),r?r.call(e):t.get(e)),O=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)};var v=1,x=Object.freeze([0,6]),P=Object.freeze({day:"2-digit",month:"2-digit",year:"numeric"}),A=new Map;function p(e){let t=A.get(e);return t||(t=new Intl.Locale(e),A.set(e,t)),t}var h={0:"AG,AS,AU,BD,BR,BS,BT,BW,BZ,CA,CN,CO,DM,DO,ET,GT,GU,HK,HN,ID,IL,IN,JM,JP,KE,KH,KR,LA,MH,MM,MO,MT,MX,MZ,NI,NP,PA,PE,PH,PK,PR,PT,PY,SA,SG,SV,TH,TT,TW,UM,US,VE,VI,WS,YE,ZA,ZW",1:"AD,AI,AL,AM,AN,AR,AT,AX,AZ,BA,BE,BG,BM,BN,BY,CH,CL,CM,CR,CY,CZ,DE,DK,EC,EE,ES,FI,FJ,FO,FR,GB,GE,GF,GP,GR,HR,HU,IE,IS,IT,KG,KZ,LB,LI,LK,LT,LU,LV,MC,MD,ME,MK,MN,MQ,MY,NL,NO,NZ,PL,RE,RO,RS,RU,SE,SI,SK,SM,TJ,TM,TR,UA,UY,UZ,VA,VN,XK",5:"MV",6:"AE,AF,BH,DJ,DZ,EG,IQ,IR,JO,KW,LY,OM,QA,SD,SY"},y;function T(e){if(!y){y=new Map;for(let r of Object.keys(h)){let n=r;h[n].split(",").forEach(s=>{y.set(s,n)})}}let t=p(e).region;return t&&y.get(t)||v}var G={"5+6":"AE,BH,DZ,EG,IL,IQ,JO,KW,LY,OM,QA,SA,SD,SY,YE","4+5":"AF","6":"IN,UG","5":"IR"},D;function k(e){if(!D){D=new Map;for(let[r,n]of Object.entries(G)){let a=Object.freeze(r.split("+").map(i=>parseInt(i)));n.split(",").forEach(i=>{D.set(i,a)})}}let t=p(e).region;return t&&D.get(t)||x}var L=new Map;function w(e,t){let r=L.get(e);if(!r){let n=Intl.NumberFormat(e).format(3.4);if(n.indexOf("3")!==0||n.indexOf("4")!==2||n.length!==3)throw new Error("Unsupported locale for automatic number parser");let a=new Set(Intl.NumberFormat(e).format(123456789).replace(/\d/g,"").split(""));if(a.size>1)throw new Error("Unsupported locale for automatic number parser");let s=n[1],i=[...a.values()][0]||"",o=new RegExp(`^\\d(\\d|${M(i)})*(${M(s)}\\d+)?$`);r=d=>{if(!d.match(o))return null;let m=d;i&&(m=m.replaceAll(i,"")),m=m.replace(s,".");let N=parseFloat(m);return m!==N.toString()?null:N},L.set(e,r)}return r(t)}function S(e,t){return $(e)(t)}var b=new Map;function $(e){let t=b.get(e);if(!t){let r=Intl.DateTimeFormat(e).format(new Date("2100-11-23"));if(r.indexOf("2100")===-1||r.indexOf("11")===-1||r.indexOf("23")===-1)return b.set(e,R),R;let n=new RegExp("^"+M(r).replace("2100","\\s*(?<year>\\d{1,4})\\s*").replace("11","\\s*(?<month>\\d{1,2})\\s*").replace("23","\\s*(?<day>\\d{1,2})\\s*")+"$");t=a=>{let s=n.exec(a);if(!s)return null;let{year:i,month:o,day:d}=s.groups;return new Date(parseInt(i),parseInt(o)-1,parseInt(d))},b.set(e,t)}return t}function E(e,t,r){return new Intl.NumberFormat(e,r).format(t)}function W(e,t,r){if(!r){if($(e)===R)return t.toISOString().substr(0,10);r=P}return new Intl.DateTimeFormat(e,r).format(t)}function R(e){return new Date(e)}function B(e,t){let r=T(e),n=new Date(t),a=(t.getDay()+7-r)%7;n.setDate(n.getDate()-a+3);let s=n.valueOf();return n.setMonth(0,1),n.getDay()!==4&&n.setMonth(0,1+(4-n.getDay()+7)%7),1+Math.ceil((s-n.valueOf())/6048e5)}function z(e,t,r,n){return new Intl.RelativeTimeFormat(e,n).format(t,r)}function M(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var l="|@:_:_:_:@|",g,C=class{constructor(){O(this,g,new Map)}addTranslation(t,r,n,a){f(this,g).set(`${t}${l}${r}${l}${n}`,a)}translate(t,r,n,a){let{baseName:s,language:i}=p(t),o=f(this,g).get(`${t}${l}${r}${l}${n}`)||null;if(o===null&&t&&(s!==t&&(o=f(this,g).get(`${s}${l}${r}${l}${n}`)||null),o===null&&i!==s&&(o=f(this,g).get(`${i}${l}${r}${l}${n}`)||null)),o!==null&&a){if(typeof o!="function")throw console.log(o),new Error(`Invalid translation parameters for category ${r} key "${n}" in locale "${t}"`);o=String(o(a))}return console.log("--->",t,r,n,":::",o),o===null?o:String(o)}};g=new WeakMap;function j(e){for(let[t,r]of Object.entries(e))for(let[n,a]of Object.entries(r))for(let[s,i]of Object.entries(a))F.addTranslation(t,n,s,i)}function q(e){if(I)throw"Illegal invocation of `init(...)`- must only be used at start of the app before any other localization function has been used";if(I=!0,e.defaultLocale&&(u=e.defaultLocale),e.customize){let t={...c};K=Object.assign(t,e.customize(t,c,u))}}function ee(e){let t=typeof e=="function"?()=>e()||u:()=>e||u;return I=!0,Y(t,K)}function te(e,t){return typeof e=="string"?t:e}var H={en:{"jsCockpit.dialogs":{ok:"Okay",cancel:"Cancel"},"jsCockpit.loginForm":{loadingMessage:"x"}}};j(H);var F=new C,I=!1,u="en-US",c={translate:F.translate.bind(F),formatNumber:E,formatDate:W,parseNumber:w,parseDate:S,formatRelativeTime:z,getFirstDayOfWeek:T,getCalendarWeek:B,getWeekendDays:k},K={...c,translate(e,t,r,n){let a=c.translate(e,t,r,n);return a===null&&u!==e&&(a=c.translate(u,t,r,n)),a}};function Y(e,t){let r={getLocale:e,translate:(n,a,s)=>t.translate(e(),n,a,s)||"",parseNumber:n=>t.parseNumber(e(),n),parseDate:n=>t.parseDate(e(),n),formatNumber:(n,a)=>t.formatNumber(e(),n,a),formatDate:(n,a)=>t.formatDate(e(),n,a),formatRelativeTime:(n,a,s)=>t.formatRelativeTime(e(),n,a,s),getFirstDayOfWeek:()=>t.getFirstDayOfWeek(e()),getWeekendDays:()=>t.getWeekendDays(e()),getCalendarWeek:n=>t.getCalendarWeek(e(),n),getDayName(n,a="long"){let s=new Date(1970,0,4+n%7);return new Intl.DateTimeFormat(e(),{weekday:a}).format(s)},getDayNames(n="long"){let a=[];for(let s=0;s<7;++s)a.push(r.getDayName(s,n));return a},getMonthName(n,a="long"){let s=new Date(1970,n%12,1);return new Intl.DateTimeFormat(e(),{month:a}).format(s)},getMonthNames(n="long"){let a=[];for(let s=0;s<12;++s)a.push(r.getMonthName(s,n));return a}};return r}export{j as addToDict,te as check,q as init,ee as localize};
//# sourceMappingURL=js-localize.esm.js.map
