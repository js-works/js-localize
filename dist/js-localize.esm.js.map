{
  "version": 3,
  "sources": ["../src/main/internal/utils.ts", "../src/main/internal/dict.ts", "../src/main/js-localize.ts"],
  "sourcesContent": ["// === exports =======================================================\r\n\r\nexport {\r\n  formatDate,\r\n  formatNumber,\r\n  formatRelativeTime,\r\n  getCalendarWeek,\r\n  getFirstDayOfWeek,\r\n  getLocaleInfo,\r\n  getWeekendDays,\r\n  parseDate,\r\n  parseNumber,\r\n};\r\n\r\n// === constants =====================================================\r\n\r\nconst defaultFirstDayOfWeek = 1;\r\nconst defaultWeekendDays = Object.freeze([0, 6]); // Sunday and Saturday\r\n\r\nconst DefaultDateFormat: Intl.DateTimeFormatOptions = Object.freeze({\r\n  day: \"2-digit\",\r\n  month: \"2-digit\",\r\n  year: \"numeric\",\r\n});\r\n\r\n// === getLocaleInfo =================================================\r\n\r\ntype LocaleInfo = Readonly<{\r\n  baseName: string;\r\n  language: string;\r\n  region: string | undefined;\r\n}>;\r\n\r\nconst localeInfoMap = new Map<string, LocaleInfo>();\r\n\r\nfunction getLocaleInfo(locale: string): LocaleInfo {\r\n  let info = localeInfoMap.get(locale);\r\n\r\n  if (!info) {\r\n    info = new (Intl as any).Locale(locale); // TODO\r\n    localeInfoMap.set(locale, info!);\r\n  }\r\n\r\n  return info!;\r\n}\r\n\r\n// --- getFirstDayOfWeek ---------------------------------------------\r\n\r\n// Source: https://github.com/unicode-cldr/cldr-core/blob/master/supplemental/weekData.json\r\n// Day of week is represented by number (0 = sunday, ..., 6 = saturday).\r\nconst firstDayOfWeekData: Record<number, string> = {\r\n  0:\r\n    \"AG,AS,AU,BD,BR,BS,BT,BW,BZ,CA,CN,CO,DM,DO,ET,GT,GU,HK,HN,ID,IL,IN,\" +\r\n    \"JM,JP,KE,KH,KR,LA,MH,MM,MO,MT,MX,MZ,NI,NP,PA,PE,PH,PK,PR,PT,PY,SA,\" +\r\n    \"SG,SV,TH,TT,TW,UM,US,VE,VI,WS,YE,ZA,ZW\",\r\n  1:\r\n    \"AD,AI,AL,AM,AN,AR,AT,AX,AZ,BA,BE,BG,BM,BN,BY,CH,CL,CM,CR,CY,CZ,DE,\" +\r\n    \"DK,EC,EE,ES,FI,FJ,FO,FR,GB,GE,GF,GP,GR,HR,HU,IE,IS,IT,KG,KZ,LB,LI,\" +\r\n    \"LK,LT,LU,LV,MC,MD,ME,MK,MN,MQ,MY,NL,NO,NZ,PL,RE,RO,RS,RU,SE,SI,SK,\" +\r\n    \"SM,TJ,TM,TR,UA,UY,UZ,VA,VN,XK\",\r\n  5: \"MV\",\r\n  6: \"AE,AF,BH,DJ,DZ,EG,IQ,IR,JO,KW,LY,OM,QA,SD,SY\",\r\n};\r\n\r\nlet firstDayOfWeekByCountryCode: Map<string, number>;\r\n\r\nfunction getFirstDayOfWeek(locale: string): number {\r\n  if (!firstDayOfWeekByCountryCode) {\r\n    firstDayOfWeekByCountryCode = new Map();\r\n\r\n    for (const firstDayOfWeek of Object.keys(firstDayOfWeekData)) {\r\n      const firstDay = firstDayOfWeek as any as number;\r\n      const countryCodes = firstDayOfWeekData[firstDay].split(\",\");\r\n\r\n      countryCodes.forEach((countryCode) => {\r\n        firstDayOfWeekByCountryCode.set(countryCode, firstDay);\r\n      });\r\n    }\r\n  }\r\n\r\n  const region = getLocaleInfo(locale).region;\r\n\r\n  return region\r\n    ? firstDayOfWeekByCountryCode.get(region) || defaultFirstDayOfWeek\r\n    : defaultFirstDayOfWeek;\r\n}\r\n\r\n// --- getWeekendDays ------------------------------------------------\r\n\r\n// Source: https://github.com/unicode-cldr/cldr-core/blob/master/supplemental/weekData.json\r\nconst weekendData: Record<string, string> = {\r\n  // Friday and Saturday\r\n  \"5+6\": \"AE,BH,DZ,EG,IL,IQ,JO,KW,LY,OM,QA,SA,SD,SY,YE\",\r\n\r\n  // Thursday and Friday\r\n  \"4+5\": \"AF\",\r\n\r\n  // Sunday\r\n  \"6\": \"IN,UG\",\r\n\r\n  // Friday\r\n  \"5\": \"IR\",\r\n};\r\n\r\nlet weekendDaysByCountryCode: Map<string, Readonly<number[]>>;\r\n\r\nfunction getWeekendDays(locale: string): Readonly<number[]> {\r\n  if (!weekendDaysByCountryCode) {\r\n    weekendDaysByCountryCode = new Map();\r\n\r\n    for (const [key, value] of Object.entries(weekendData)) {\r\n      const days = Object.freeze(key.split(\"+\").map((it) => parseInt(it)));\r\n      const countryCodes = value.split(\",\");\r\n\r\n      countryCodes.forEach((countryCode) => {\r\n        weekendDaysByCountryCode.set(countryCode, days);\r\n      });\r\n    }\r\n  }\r\n\r\n  const region = getLocaleInfo(locale).region;\r\n\r\n  return region\r\n    ? weekendDaysByCountryCode.get(region) || defaultWeekendDays\r\n    : defaultWeekendDays;\r\n}\r\n\r\n// --- parseNumber ---------------------------------------------------\r\n\r\nconst numberParserByLocale = new Map<string, (s: string) => number | null>();\r\n\r\nfunction parseNumber(locale: string, numberString: string): number | null {\r\n  let numberParser = numberParserByLocale.get(locale);\r\n\r\n  if (!numberParser) {\r\n    const example = Intl.NumberFormat(locale).format(3.4);\r\n\r\n    if (\r\n      example.indexOf(\"3\") !== 0 ||\r\n      example.indexOf(\"4\") !== 2 ||\r\n      example.length !== 3\r\n    ) {\r\n      throw new Error(\"Unsupported locale for automatic number parser\");\r\n    }\r\n\r\n    const separators = new Set(\r\n      Intl.NumberFormat(locale).format(123456789).replace(/\\d/g, \"\").split(\"\")\r\n    );\r\n\r\n    if (separators.size > 1) {\r\n      throw new Error(\"Unsupported locale for automatic number parser\");\r\n    }\r\n\r\n    const decimalSeparator = example[1];\r\n    const digitGroupSeparator = [...separators.values()][0] || \"\";\r\n\r\n    const regExp = new RegExp(\r\n      `^\\\\d(\\\\d|${escapeRegExp(digitGroupSeparator)})*(${escapeRegExp(\r\n        decimalSeparator\r\n      )}\\\\d+)?$`\r\n    );\r\n\r\n    numberParser = (s: string) => {\r\n      if (!s.match(regExp)) {\r\n        return null;\r\n      }\r\n\r\n      let numberString = s;\r\n\r\n      if (digitGroupSeparator) {\r\n        numberString = numberString.replaceAll(digitGroupSeparator, \"\");\r\n      }\r\n\r\n      numberString = numberString.replace(decimalSeparator, \".\");\r\n\r\n      let number = parseFloat(numberString);\r\n\r\n      if (numberString !== number.toString()) {\r\n        return null;\r\n      }\r\n\r\n      return number;\r\n    };\r\n\r\n    numberParserByLocale.set(locale, numberParser);\r\n  }\r\n\r\n  return numberParser(numberString);\r\n}\r\n\r\n// --- parseDate -----------------------------------------------------\r\n\r\nfunction parseDate(locale: string, dateString: string): Date | null {\r\n  return getDateParser(locale)(dateString);\r\n}\r\n\r\n// --- getDateParser -------------------------------------------------\r\n\r\nconst dateParserByLocale = new Map<string, (date: string) => Date | null>();\r\n\r\nfunction getDateParser(locale: string): (s: string) => Date | null {\r\n  let dateParser = dateParserByLocale.get(locale);\r\n\r\n  if (!dateParser) {\r\n    const example = Intl.DateTimeFormat(locale).format(new Date(\"2100-11-23\"));\r\n\r\n    if (\r\n      example.indexOf(\"2100\") === -1 ||\r\n      example.indexOf(\"11\") === -1 ||\r\n      example.indexOf(\"23\") === -1\r\n    ) {\r\n      // too complex date format - use ISO format as fallback\r\n      dateParserByLocale.set(locale, parseIsoDateString);\r\n      return parseIsoDateString;\r\n    }\r\n\r\n    const regExp = new RegExp(\r\n      \"^\" +\r\n        escapeRegExp(example)\r\n          .replace(\"2100\", \"\\\\s*(?<year>\\\\d{1,4})\\\\s*\")\r\n          .replace(\"11\", \"\\\\s*(?<month>\\\\d{1,2})\\\\s*\")\r\n          .replace(\"23\", \"\\\\s*(?<day>\\\\d{1,2})\\\\s*\") +\r\n        \"$\"\r\n    );\r\n\r\n    dateParser = (s: string) => {\r\n      const match = regExp.exec(s);\r\n\r\n      if (!match) {\r\n        return null;\r\n      }\r\n\r\n      const { year, month, day } = match.groups!;\r\n\r\n      return new Date(parseInt(year), parseInt(month) - 1, parseInt(day));\r\n    };\r\n\r\n    dateParserByLocale.set(locale, dateParser);\r\n  }\r\n\r\n  return dateParser;\r\n}\r\n\r\n// --- formatNumber --------------------------------------------------\r\n\r\nfunction formatNumber(\r\n  locale: string,\r\n  value: number,\r\n  format: Intl.NumberFormatOptions\r\n): string {\r\n  return new Intl.NumberFormat(locale, format).format(value);\r\n}\r\n\r\n// --- formatDate ----------------------------------------------------\r\n\r\nfunction formatDate(\r\n  locale: string,\r\n  value: Date,\r\n  format?: Intl.DateTimeFormatOptions | null\r\n): string {\r\n  if (!format) {\r\n    if (getDateParser(locale) === parseIsoDateString) {\r\n      return value.toISOString().substr(0, 10);\r\n    }\r\n\r\n    format = DefaultDateFormat;\r\n  }\r\n\r\n  return new Intl.DateTimeFormat(locale, format).format(value);\r\n}\r\n\r\n// --- parseIsoDateString --------------------------------------------\r\n\r\nfunction parseIsoDateString(s: string): Date | null {\r\n  // TODO!!!!!\r\n  return new Date(s);\r\n}\r\n\r\n// === getCalendarWeek ===============================================\r\n\r\nfunction getCalendarWeek(locale: string, date: Date) {\r\n  // Code is based on this solution here:\r\n  // https://stackoverflow.com/questions/23781366/date-get-week-number-for-custom-week-start-day\r\n  // TODO - check algorithm\r\n\r\n  const weekstart = getFirstDayOfWeek(locale);\r\n  const target = new Date(date);\r\n\r\n  // Replaced offset of (6) with (7 - weekstart)\r\n  const dayNum = (date.getDay() + 7 - weekstart) % 7;\r\n  target.setDate(target.getDate() - dayNum + 3);\r\n  const firstThursday = target.valueOf();\r\n  target.setMonth(0, 1);\r\n\r\n  if (target.getDay() !== 4) {\r\n    target.setMonth(0, 1 + ((4 - target.getDay() + 7) % 7));\r\n  }\r\n\r\n  return 1 + Math.ceil((firstThursday - target.valueOf()) / 604800000);\r\n}\r\n\r\nfunction formatRelativeTime(\r\n  locale: string,\r\n  value: number,\r\n  unit: Intl.RelativeTimeFormatUnit,\r\n  format: Intl.RelativeTimeFormatOptions\r\n): string {\r\n  return new Intl.RelativeTimeFormat(locale, format).format(value, unit);\r\n}\r\n\r\n// === utils =========================================================\r\n\r\nfunction escapeRegExp(s: string) {\r\n  return s.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\r\n}\r\n", "import { getLocaleInfo } from \"./utils\";\r\n\r\n// === exports =======================================================\r\n\r\nexport { Dictionary };\r\n\r\n// === constants =====================================================\r\n\r\nconst SEP = \"|@:_:_:_:@|\"; // TODO\r\n\r\n// === Dictionary ====================================================\r\n\r\nclass Dictionary {\r\n  // --- private -----------------------------------------------------\r\n\r\n  #translations = new Map<string, string | Function>();\r\n\r\n  // --- public ------------------------------------------------------\r\n\r\n  addTranslation(\r\n    locale: string,\r\n    category: string,\r\n    key: string,\r\n    translation: string | ((params: Record<string, any>) => string)\r\n  ): void {\r\n    this.#translations.set(\r\n      `${locale}${SEP}${category}${SEP}${key}`,\r\n      translation\r\n    );\r\n  }\r\n\r\n  translate(\r\n    locale: string,\r\n    category: string,\r\n    key: string,\r\n    params?: Record<string, any>\r\n  ): string | null {\r\n    const { baseName, language } = getLocaleInfo(locale);\r\n\r\n    let ret =\r\n      this.#translations.get(`${locale}${SEP}${category}${SEP}${key}`) || null;\r\n\r\n    if (ret === null && locale) {\r\n      if (baseName !== locale) {\r\n        ret =\r\n          this.#translations.get(`${baseName}${SEP}${category}${SEP}${key}`) ||\r\n          null;\r\n      }\r\n\r\n      if (ret === null) {\r\n        if (language !== baseName) {\r\n          ret =\r\n            this.#translations.get(\r\n              `${language}${SEP}${category}${SEP}${key}`\r\n            ) || null;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (ret !== null && params) {\r\n      if (typeof ret !== \"function\") {\r\n        console.log(ret); // TODO\r\n\r\n        throw new Error(\r\n          `Invalid translation parameters for category ${category} key \"${key}\" in locale \"${locale}\"`\r\n        );\r\n      }\r\n\r\n      ret = String(ret(params));\r\n    }\r\n\r\n    console.log(\"--->\", locale, category, key, \":::\", ret);\r\n    return ret === null ? ret : String(ret);\r\n  }\r\n}\r\n", "import {\r\n  formatDate,\r\n  formatNumber,\r\n  formatRelativeTime,\r\n  getCalendarWeek,\r\n  getFirstDayOfWeek,\r\n  getWeekendDays,\r\n  parseDate,\r\n  parseNumber\r\n} from './internal/utils'\r\n\r\nimport { Dictionary } from 'internal/dict'\r\n\r\n// === exports =======================================================\r\n\r\nexport {\r\n  // -- functions ---\r\n  addToDict,\r\n  init,\r\n  localize,\r\n  check,\r\n  // --- types ---\r\n  Localization as Behavior,\r\n  Category,\r\n  Localizer,\r\n  Terms,\r\n  TermsOf,\r\n  Translations,\r\n  NumberFormat,\r\n  DateFormat,\r\n  RelativeTimeFormat,\r\n  RelativeTimeUnit\r\n}\r\n\r\n// === public types ==================================================\r\n\r\ndeclare global {\r\n  namespace Localize {\r\n    interface TranslationsMap {}\r\n  }\r\n}\r\n\r\ntype Category = `${string}.${string}`\r\n\r\ntype Terms<\r\n  T extends Record<\r\n    string,\r\n    string | ((params: Record<string, any>) => string)\r\n  > = any\r\n> = T\r\n\r\ntype Translations = Record<Lang, Record<Category, Terms>>\r\n\r\ntype CategoriesOf<A> = A extends Record<Lang, Record<infer C, Terms>>\r\n  ? C extends Category\r\n    ? C\r\n    : never\r\n  : never\r\n\r\ntype TermsOf<A> = A extends Record<Lang, Record<infer C, infer T>>\r\n  ? C extends Category\r\n    ? T\r\n    : never\r\n  : A extends Category\r\n  ? A extends keyof TranslationsMap\r\n    ? TranslationsMap[A] extends Terms\r\n      ? TranslationsMap[A]\r\n      : never\r\n    : never\r\n  : never\r\n\r\ntype Localization = Readonly<{\r\n  translate<\r\n    C extends keyof TranslationsMap,\r\n    K extends keyof TranslationsMap[C]\r\n  >(\r\n    locale: string,\r\n    category: C & Category,\r\n    key: K & string,\r\n    params?: FirstArg<TranslationsMap[C][K]>\r\n  ): string | null\r\n\r\n  parseNumber(locale: string, numberString: string): number | null\r\n  parseDate(locale: string, dateString: string): Date | null\r\n\r\n  formatNumber(locale: string, value: number, format?: NumberFormat): string\r\n  formatDate(locale: string, value: Date, format?: DateFormat | null): string\r\n\r\n  formatRelativeTime(\r\n    locale: string,\r\n    value: number,\r\n    unit: RelativeTimeUnit,\r\n    format?: RelativeTimeFormat\r\n  ): string\r\n\r\n  getFirstDayOfWeek(locale: string): number // 0 to 6, 0 means Sunday\r\n  getCalendarWeek(locale: string, date: Date): number // 1 to 53\r\n  getWeekendDays(locale: string): Readonly<number[]> // array of integers between 0 and 6\r\n}>\r\n\r\ntype Localizer = Readonly<{\r\n  getLocale(): string\r\n\r\n  translate<\r\n    C extends keyof TranslationsMap,\r\n    K extends keyof TranslationsMap[C]\r\n  >(\r\n    category: C & Category,\r\n    key: K & string,\r\n    params?: FirstArg<TranslationsMap[C][K]>\r\n  ): string\r\n\r\n  parseNumber(numberString: string): number | null\r\n  parseDate(dateString: string): Date | null\r\n  formatNumber(value: number, format?: NumberFormat): string\r\n  formatDate(value: Date, format?: DateFormat | null): string\r\n\r\n  formatRelativeTime(\r\n    value: number,\r\n    unit: RelativeTimeUnit,\r\n    format?: RelativeTimeFormat\r\n  ): string\r\n\r\n  getFirstDayOfWeek(): number // 0 to 6, 0 means Sunday\r\n  getWeekendDays(): Readonly<number[]> // array of integer form 0 to 6\r\n  getCalendarWeek(date: Date): number // 1 to 53\r\n  getDayName(index: number, format?: 'long' | 'short' | 'narrow'): string\r\n  getDayNames(format?: 'long' | 'short' | 'narrow'): string[]\r\n  getMonthName(index: number, format?: 'long' | 'short' | 'narrow'): string\r\n  getMonthNames(format?: 'long' | 'short' | 'narrow'): string[]\r\n}>\r\n\r\ninterface NumberFormat extends Intl.NumberFormatOptions {}\r\ninterface DateFormat extends Intl.DateTimeFormatOptions {}\r\ntype RelativeTimeFormat = Intl.RelativeTimeFormatOptions\r\ntype RelativeTimeUnit = Intl.RelativeTimeFormatUnit\r\n\r\n// === local types ===================================================\r\n\r\ntype Lang = string\r\ntype TranslationsMap = Localize.TranslationsMap\r\ntype FirstArg<T> = T extends (arg: infer A) => any ? A : never\r\n\r\ntype StartsWith<A extends string, B extends string> = A extends `${B}${string}`\r\n  ? A\r\n  : never\r\n\r\n// === addToDict =====================================================\r\n\r\nfunction addToDict<\r\n  C extends keyof TranslationsMap,\r\n  T extends Record<Lang, Partial<Record<C, TranslationsMap[C]>>>\r\n>(translations: T) {\r\n  for (const [language, data] of Object.entries(translations)) {\r\n    for (const [category, terms] of Object.entries(data as any)) {\r\n      for (const [key, value] of Object.entries(terms as any)) {\r\n        dict.addTranslation(language, category, key, value as any)\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// === init ==========================================================\r\n\r\nfunction init(params: {\r\n  defaultLocale?: string\r\n\r\n  customize?(\r\n    self: Localization,\r\n    base: Localization,\r\n    defaultLocale: string\r\n  ): Partial<Localization>\r\n}): void {\r\n  if (isFinal) {\r\n    throw (\r\n      'Illegal invocation of `init(...)`' +\r\n      '- must only be used at start of the app' +\r\n      ' before any other localization function has been used'\r\n    )\r\n  }\r\n\r\n  isFinal = true\r\n\r\n  if (params.defaultLocale) {\r\n    defaultLocale = params.defaultLocale\r\n  }\r\n\r\n  if (params.customize) {\r\n    const self = { ...baseBehavior }\r\n\r\n    behavior = Object.assign(\r\n      self,\r\n      params.customize(self, baseBehavior, defaultLocale)\r\n    )\r\n  }\r\n}\r\n\r\n// === localize ======================================================\r\n\r\nfunction localize(\r\n  localeOrGetLocale: string | null | (() => string | null)\r\n): Localizer {\r\n  const getLocale =\r\n    typeof localeOrGetLocale === 'function'\r\n      ? () => localeOrGetLocale() || defaultLocale\r\n      : () => localeOrGetLocale || defaultLocale\r\n\r\n  isFinal = true\r\n  return createLocalizer(getLocale, behavior)\r\n}\r\n\r\n// === check ==========================================================\r\n\r\nfunction check<\r\n  C extends keyof TranslationsMap,\r\n  T extends Record<Lang, Record<C, TranslationsMap[C]>>\r\n>(translations: T): T\r\n\r\nfunction check<\r\n  B extends string,\r\n  C extends keyof TranslationsMap,\r\n  T extends Record<Lang, Record<StartsWith<C, B>, TranslationsMap[C]>>\r\n>(pattern: `${B}*`, translations: T): T\r\n\r\nfunction check(arg1: any, arg2?: any) {\r\n  return typeof arg1 === 'string' ? arg2 : arg1\r\n}\r\n\r\n// === local data ====================================================\r\n\r\n// singleton dictionary to store the translations\r\nconst dict = new Dictionary()\r\n\r\n// flag that indicates whether an initial customizing\r\n// of the localization behavior is still possible or not\r\nlet isFinal = false\r\n\r\n// default locale is \"en-US\", but this can be customized\r\n// by using the `init` function\r\nlet defaultLocale = 'en-US'\r\n\r\n// === local functions ===============================================\r\n\r\nconst baseBehavior: Localization = {\r\n  translate: dict.translate.bind(dict) as any, // TODO\r\n  formatNumber,\r\n  formatDate,\r\n  parseNumber,\r\n  parseDate,\r\n  formatRelativeTime,\r\n  getFirstDayOfWeek,\r\n  getCalendarWeek,\r\n  getWeekendDays\r\n}\r\n\r\nlet behavior: Localization = {\r\n  ...baseBehavior,\r\n\r\n  translate(locale, category, key, replacements?) {\r\n    let translation = baseBehavior.translate(\r\n      locale,\r\n      category,\r\n      key,\r\n      replacements\r\n    )\r\n\r\n    if (translation === null && defaultLocale !== locale) {\r\n      translation = baseBehavior.translate(\r\n        defaultLocale,\r\n        category,\r\n        key,\r\n        replacements\r\n      )\r\n    }\r\n\r\n    return translation\r\n  }\r\n}\r\n\r\nfunction createLocalizer(\r\n  getLocale: () => string,\r\n  i18n: Localization\r\n): Localizer {\r\n  const localizer: Localizer = {\r\n    getLocale,\r\n\r\n    translate: (category, key, replacements?) =>\r\n      i18n.translate(getLocale(), category, key, replacements) || '',\r\n\r\n    parseNumber: (numberString) => i18n.parseNumber(getLocale(), numberString),\r\n    parseDate: (dateString) => i18n.parseDate(getLocale(), dateString),\r\n\r\n    formatNumber: (number, format) =>\r\n      i18n.formatNumber(getLocale(), number, format),\r\n\r\n    formatDate: (date, format) => i18n.formatDate(getLocale(), date, format),\r\n\r\n    formatRelativeTime: (number, unit, format) =>\r\n      i18n.formatRelativeTime(getLocale(), number, unit, format),\r\n\r\n    getFirstDayOfWeek: () => i18n.getFirstDayOfWeek(getLocale()),\r\n    getWeekendDays: () => i18n.getWeekendDays(getLocale()),\r\n    getCalendarWeek: (date: Date) => i18n.getCalendarWeek(getLocale(), date),\r\n\r\n    getDayName(index, format = 'long') {\r\n      const date = new Date(1970, 0, 4 + (index % 7))\r\n\r\n      return new Intl.DateTimeFormat(getLocale(), { weekday: format }).format(\r\n        date\r\n      )\r\n    },\r\n\r\n    getDayNames(format = 'long') {\r\n      const arr: string[] = []\r\n\r\n      for (let i = 0; i < 7; ++i) {\r\n        arr.push(localizer.getDayName(i, format))\r\n      }\r\n\r\n      return arr\r\n    },\r\n\r\n    getMonthName(index, format = 'long') {\r\n      const date = new Date(1970, index % 12, 1)\r\n\r\n      return new Intl.DateTimeFormat(getLocale(), { month: format }).format(\r\n        date\r\n      )\r\n    },\r\n\r\n    getMonthNames(format = 'long') {\r\n      const arr: string[] = []\r\n\r\n      for (let i = 0; i < 12; ++i) {\r\n        arr.push(localizer.getMonthName(i, format))\r\n      }\r\n\r\n      return arr\r\n    }\r\n  }\r\n\r\n  return localizer\r\n}\r\n"],
  "mappings": "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",
  "names": []
}
